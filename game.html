<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Flappy Bird</title>
  <style>
    body {
      margin: 0;
      overflow: hidden;
      background: url('https://i.ibb.co/58kYbD8/background-day.png') repeat-x;
      background-size: cover;
    }
    canvas {
      display: block;
      margin: 0 auto;
      background: transparent;
    }
  </style>
</head>
<body>
  <canvas id="gameCanvas" width="320" height="480"></canvas>
  <script>
    const canvas = document.getElementById("gameCanvas");
    const ctx = canvas.getContext("2d");const birdImg = new Image();
birdImg.src = "https://i.ibb.co/QdpBzGq/bird.png";

const bg = new Image();
bg.src = "https://i.ibb.co/58kYbD8/background-day.png";

const pipeNorth = new Image();
pipeNorth.src = "https://i.ibb.co/zPFSLHP/pipe-green.png";
const pipeSouth = new Image();
pipeSouth.src = "https://i.ibb.co/jzfLXB3/pipe-green-flip.png";

let gap = 85;
let constant;
let birdX = 50;
let birdY = 150;
let gravity = 1.5;
let velocity = 0;

const bird = {
  width: 38,
  height: 26
};

document.addEventListener("keydown", fly);
document.addEventListener("click", fly);

function fly() {
  velocity = -20;
}

const pipes = [];
pipes[0] = {
  x: canvas.width,
  y: Math.floor(Math.random() * pipeNorth.height) - pipeNorth.height
};

let score = 0;

function draw() {
  ctx.drawImage(bg, 0, 0);

  for (let i = 0; i < pipes.length; i++) {
    constant = pipeNorth.height + gap;
    ctx.drawImage(pipeNorth, pipes[i].x, pipes[i].y);
    ctx.drawImage(pipeSouth, pipes[i].x, pipes[i].y + constant);

    pipes[i].x--;

    if (pipes[i].x === 125) {
      pipes.push({
        x: canvas.width,
        y: Math.floor(Math.random() * pipeNorth.height) - pipeNorth.height
      });
    }

    if (
      birdX + bird.width >= pipes[i].x &&
      birdX <= pipes[i].x + pipeNorth.width &&
      (birdY <= pipes[i].y + pipeNorth.height ||
        birdY + bird.height >= pipes[i].y + constant)
    ) {
      location.reload(); // Game over
    }

    if (pipes[i].x === 5) {
      score++;
    }
  }

  ctx.drawImage(birdImg, birdX, birdY);

  velocity += gravity;
  birdY += velocity;

  if (birdY + bird.height > canvas.height) {
    location.reload();
  }

  ctx.fillStyle = "#000";
  ctx.font = "20px Arial";
  ctx.fillText("Score: " + score, 10, canvas.height - 20);

  requestAnimationFrame(draw);
}

draw();

  </script>
</body>
</html>
